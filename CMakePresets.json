{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 16
  },
  "configurePresets": [
    {
      "name": "default",
      "displayName": "Default Preset",
      "binaryDir": "build",
      "environment": {
        "WARNINGS": "-Wall -Wextra -Wpedantic -Wconversion -Wsign-conversion -Wshadow -Wduplicated-branches -Wduplicated-cond -Wlogical-op -Wnull-dereference -Wuseless-cast -Wdouble-promotion -Wold-style-cast -Wformat=2 -Wundef -Wcast-align -Wcast-qual -Wdisabled-optimization -Wredundant-decls -Wunsafe-loop-optimizations -Wnoexcept -Wsuggest-final-types -Wsuggest-final-methods -Wsuggest-override"
      },
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O2 -g -fno-omit-frame-pointer -march=native -flto=auto $env{WARNINGS}",
        "MULTIQUEUE_BUILD_TESTS": "ON",
        "MULTIQUEUE_BUILD_BENCHMARKS": "ON",
        "MULTIQUEUE_BUILD_EXAMPLES": "ON",
        "EXP_BUILD_TESTS": "ON",
        "EXP_TUNING_TARGETS": "ON"
      },
      "warnings": {
        "dev": true,
        "uninitialized": true
      }
    },
    {
      "name": "release",
      "displayName": "Release Preset",
      "inherits": "default",
      "binaryDir": "build-release",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O3 -DNDEBUG -march=native -flto=auto $env{WARNINGS}"
      }
    },
    {
      "name": "debug",
      "displayName": "Debug Preset",
      "inherits": "default",
      "binaryDir": "build-debug",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-Og -ggdb $env{WARNINGS}",
        "CMAKE_C_FLAGS": "-Og -ggdb"
      }
    },
    {
      "name": "pgo-generate",
      "inherits": "default",
      "displayName": "PGO Generate Preset",
      "binaryDir": "build-pgo",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O3 -DNDEBUG -march=native -flto=auto -fprofile-generate $env{WARNINGS}"
      }
    },
    {
      "name": "pgo-use",
      "inherits": "default",
      "displayName": "PGO Use Preset",
      "binaryDir": "build-pgo",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O3 -DNDEBUG -march=native -flto=auto -fprofile-use -fprofile-correction $env{WARNINGS}"
      }
    },
    {
      "name": "asan",
      "inherits": "default",
      "displayName": "ASAN Preset",
      "binaryDir": "build-asan",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O2 -g -fno-omit-frame-pointer -march=native -flto=auto $env{WARNINGS} -fsanitize=address",
        "CMAKE_EXE_LINKER_FLAGS": "-fsanitize=address",
        "CMAKE_SHARED_LINKER_FLAGS": "-fsanitize=address"
      }
    },
    {
      "name": "ubsan",
      "inherits": "default",
      "displayName": "UBSAN Preset",
      "binaryDir": "build-ubsan",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O2 -g -fno-omit-frame-pointer -march=native -flto=auto $env{WARNINGS} -fsanitize=undefined",
        "CMAKE_EXE_LINKER_FLAGS": "-fsanitize=undefined",
        "CMAKE_SHARED_LINKER_FLAGS": "-fsanitize=undefined"
      }
    },
    {
      "name": "tsan",
      "inherits": "default",
      "displayName": "TSAN Preset",
      "binaryDir": "build-tsan",
      "cacheVariables": {
        "CMAKE_CXX_FLAGS": "-O2 -g -fno-omit-frame-pointer -march=native -flto=auto $env{WARNINGS} -fsanitize=thread",
        "CMAKE_EXE_LINKER_FLAGS": "-fsanitize=thread",
        "CMAKE_SHARED_LINKER_FLAGS": "-fsanitize=thread"
      }
    },
    {
      "name": "clangd",
      "displayName": "Clangd Preset",
      "binaryDir": "build-clangd",
      "cacheVariables": {
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
        "CMAKE_CXX_COMPILER": "clang++",
        "CMAKE_C_COMPILER": "clang"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "default",
      "displayName": "Default Preset",
      "configurePreset": "default"
    },
    {
      "name": "release",
      "displayName": "Release Preset",
      "configurePreset": "release"
    },
    {
      "name": "debug",
      "displayName": "Debug Build preset",
      "configurePreset": "debug"
    },
    {
      "name": "pgo-generate",
      "displayName": "PGO Generate Preset",
      "configurePreset": "pgo-generate"
    },
    {
      "name": "pgo-use",
      "displayName": "PGO Use Preset",
      "configurePreset": "pgo-use"
    },
    {
      "name": "asan",
      "displayName": "ASAN Preset",
      "configurePreset": "asan"
    },
    {
      "name": "ubsan",
      "displayName": "UBSAN Preset",
      "configurePreset": "ubsan"
    },
    {
      "name": "tsan",
      "displayName": "TSAN Preset",
      "configurePreset": "tsan"
    }
 ]
}
